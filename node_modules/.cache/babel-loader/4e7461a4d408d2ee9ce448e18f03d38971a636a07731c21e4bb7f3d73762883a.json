{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport { getPreference } from '@/utils/PreferencesService';\nimport { formatDate } from '@/utils/GameUtils';\nexport default {\n  data() {\n    return {\n      recordInfoBG: '',\n      recordData: {}\n    };\n  },\n  computed: {\n    ...mapGetters(['getHVI', 'currentTheme'])\n  },\n  methods: {\n    ...mapActions(['toggleHVI']),\n    async fetchRecordData() {\n      const keys = this.getHVI.value2;\n      const attemptKeys = keys ? `${keys}-ATTEMPT` : '';\n      if (keys) {\n        let combinedData = {};\n        try {\n          const data = await getPreference(keys);\n          combinedData.data = data;\n        } catch (error) {\n          console.error('Error reading or parsing main data file', error);\n        }\n        try {\n          const attemptData = await getPreference(attemptKeys);\n          combinedData.attemptData = attemptData;\n        } catch (error) {\n          console.error('Error reading or parsing attempt data file', error);\n        }\n        this.recordData = {\n          ...combinedData.data,\n          attempt: combinedData.attemptData?.attempt || 'N/A',\n          date: combinedData.attemptData?.date ? formatDate(combinedData.attemptData.date) : 'N/A'\n        };\n      }\n    },\n    current_theme() {\n      this.recordInfoBG = this.currentTheme === 'dark' ? 'rgb(100, 100, 100)' : 'rgb(220, 220, 220)';\n    }\n  },\n  mounted() {\n    this.current_theme();\n    if (this.getHVI.value1) {\n      this.fetchRecordData();\n    }\n  },\n  watch: {\n    'getHVI.value2': function (newVal) {\n      if (newVal) {\n        this.fetchRecordData();\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","getPreference","formatDate","data","recordInfoBG","recordData","computed","methods","fetchRecordData","keys","getHVI","value2","attemptKeys","combinedData","error","console","attemptData","attempt","date","current_theme","currentTheme","mounted","value1","watch","getHVI.value2","newVal"],"sources":["C:\\Users\\ruzhe\\mobile-apps-games-container\\code-master\\src\\components\\Dashboard\\GameComponents\\GameRecordsInfo.vue"],"sourcesContent":["<template>\r\n    <div class=\"game-record-view\" v-if=\"getHVI.value1\">\r\n        <div class=\"record-info\" :style=\"{ backgroundColor: recordInfoBG }\">\r\n            <i class=\"bi bi-x\" @click=\"toggleHVI({ value1: false, value2: null })\"></i>\r\n            <h4><strong>Latest Record</strong></h4>\r\n            <h4><strong>Challenge:</strong> {{ recordData.challenge }}</h4>\r\n            <h4><strong>Time Finish:</strong> {{ recordData.timeFinish }} sec</h4>\r\n            <h4><strong>Score:</strong> {{ recordData.score }}</h4>\r\n            <h4><strong>Number of Attempts:</strong> {{ recordData.attempt }}</h4>\r\n            <h4><strong>Date of Latest Attempt:</strong> {{ recordData.date }}</h4>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport { getPreference } from '@/utils/PreferencesService';\r\nimport { formatDate } from '@/utils/GameUtils';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            recordInfoBG: '',\r\n            recordData: {},\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters(['getHVI', 'currentTheme']),\r\n    },\r\n    methods: {\r\n        ...mapActions(['toggleHVI']),\r\n        async fetchRecordData() {\r\n            const keys = this.getHVI.value2;\r\n            const attemptKeys = keys ? `${keys}-ATTEMPT` : '';\r\n\r\n            if (keys) {\r\n                let combinedData = {};\r\n\r\n                try {\r\n                    const data = await getPreference(keys);\r\n                    combinedData.data = data;\r\n                } catch (error) {\r\n                    console.error('Error reading or parsing main data file', error);\r\n                }\r\n\r\n                try {\r\n                    const attemptData = await getPreference(attemptKeys);\r\n                    combinedData.attemptData = attemptData;\r\n                } catch (error) {\r\n                    console.error('Error reading or parsing attempt data file', error);\r\n                }\r\n\r\n                this.recordData = {\r\n                    ...combinedData.data,\r\n                    attempt: combinedData.attemptData?.attempt || 'N/A',\r\n                    date: combinedData.attemptData?.date ? formatDate(combinedData.attemptData.date) : 'N/A'\r\n                };\r\n            }\r\n        },\r\n\r\n        current_theme() {\r\n            this.recordInfoBG = this.currentTheme === 'dark' ? 'rgb(100, 100, 100)' : 'rgb(220, 220, 220)';\r\n        }\r\n    },\r\n    mounted() {\r\n        this.current_theme();\r\n        if (this.getHVI.value1) {\r\n            this.fetchRecordData();\r\n        }\r\n    },\r\n    watch: {\r\n        'getHVI.value2': function (newVal) {\r\n            if (newVal) {\r\n                this.fetchRecordData();\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.game-record-view {\r\n    position: absolute;\r\n    height: calc(100vh - 40px);\r\n    width: calc(100vw - 40px);\r\n    padding: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 10000;\r\n}\r\n\r\n.record-info {\r\n    position: relative;\r\n    padding: 20px;\r\n    height: 210px;\r\n    width: 260px;\r\n    box-shadow: 2px 2px 5px black;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    border-radius: 10px;\r\n    gap: 10px;\r\n}\r\n\r\n.record-info h4 {\r\n    margin: 0;\r\n    font-weight: normal;\r\n}\r\n\r\n.bi-x {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    font-size: 1.8rem;\r\n    margin: 5px;\r\n}\r\n</style>\r\n"],"mappings":"AAeA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,SAASC,aAAY,QAAS,4BAA4B;AAC1D,SAASC,UAAS,QAAS,mBAAmB;AAE9C,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE,CAAC;IACjB,CAAC;EACL,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGP,UAAU,CAAC,CAAC,QAAQ,EAAE,cAAc,CAAC;EAC5C,CAAC;EACDQ,OAAO,EAAE;IACL,GAAGP,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC;IAC5B,MAAMQ,eAAeA,CAAA,EAAG;MACpB,MAAMC,IAAG,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM;MAC/B,MAAMC,WAAU,GAAIH,IAAG,GAAI,GAAGA,IAAI,UAAS,GAAI,EAAE;MAEjD,IAAIA,IAAI,EAAE;QACN,IAAII,YAAW,GAAI,CAAC,CAAC;QAErB,IAAI;UACA,MAAMV,IAAG,GAAI,MAAMF,aAAa,CAACQ,IAAI,CAAC;UACtCI,YAAY,CAACV,IAAG,GAAIA,IAAI;QAC5B,EAAE,OAAOW,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;QACnE;QAEA,IAAI;UACA,MAAME,WAAU,GAAI,MAAMf,aAAa,CAACW,WAAW,CAAC;UACpDC,YAAY,CAACG,WAAU,GAAIA,WAAW;QAC1C,EAAE,OAAOF,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;QACtE;QAEA,IAAI,CAACT,UAAS,GAAI;UACd,GAAGQ,YAAY,CAACV,IAAI;UACpBc,OAAO,EAAEJ,YAAY,CAACG,WAAW,EAAEC,OAAM,IAAK,KAAK;UACnDC,IAAI,EAAEL,YAAY,CAACG,WAAW,EAAEE,IAAG,GAAIhB,UAAU,CAACW,YAAY,CAACG,WAAW,CAACE,IAAI,IAAI;QACvF,CAAC;MACL;IACJ,CAAC;IAEDC,aAAaA,CAAA,EAAG;MACZ,IAAI,CAACf,YAAW,GAAI,IAAI,CAACgB,YAAW,KAAM,MAAK,GAAI,oBAAmB,GAAI,oBAAoB;IAClG;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACF,aAAa,CAAC,CAAC;IACpB,IAAI,IAAI,CAACT,MAAM,CAACY,MAAM,EAAE;MACpB,IAAI,CAACd,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACDe,KAAK,EAAE;IACH,eAAe,EAAE,SAAAC,CAAUC,MAAM,EAAE;MAC/B,IAAIA,MAAM,EAAE;QACR,IAAI,CAACjB,eAAe,CAAC,CAAC;MAC1B;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}