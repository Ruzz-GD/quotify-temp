{"ast":null,"code":"import loader from '@monaco-editor/loader';\nexport { default as loader } from '@monaco-editor/loader';\nimport { computed, shallowRef, ref, onMounted, defineComponent, onUnmounted, watch, h, nextTick } from 'vue-demi';\nvar __defProp$2 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2) for (var prop of __getOwnPropSymbols$2(b)) {\n    if (__propIsEnum$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst styles = {\n  wrapper: {\n    display: \"flex\",\n    position: \"relative\",\n    textAlign: \"initial\"\n  },\n  fullWidth: {\n    width: \"100%\"\n  },\n  hide: {\n    display: \"none\"\n  }\n};\nfunction useContainer(props, isEditorReady) {\n  const wrapperStyle = computed(() => {\n    const {\n      width,\n      height\n    } = props;\n    return __spreadProps(__spreadValues$2({}, styles.wrapper), {\n      width,\n      height\n    });\n  });\n  const containerStyle = computed(() => {\n    return __spreadValues$2(__spreadValues$2({}, styles.fullWidth), !isEditorReady.value && styles.hide);\n  });\n  return {\n    wrapperStyle,\n    containerStyle\n  };\n}\nfunction useMonaco() {\n  const monacoRef = shallowRef(loader.__getMonacoInstance());\n  const isLoadFailed = ref(false);\n  let promise;\n  onMounted(() => {\n    if (monacoRef.value) return;\n    promise = loader.init();\n    promise.then(monacoInstance => monacoRef.value = monacoInstance).catch(error => {\n      if ((error == null ? void 0 : error.type) !== \"cancelation\") {\n        isLoadFailed.value = true;\n        console.error(\"Monaco initialization error:\", error);\n      }\n    });\n  });\n  const unload = () => promise == null ? void 0 : promise.cancel();\n  return {\n    monacoRef,\n    unload,\n    isLoadFailed\n  };\n}\nfunction slotHelper(slot) {\n  return typeof slot == \"function\" ? slot() : slot;\n}\nfunction isUndefined(v) {\n  return v === void 0;\n}\nfunction getOrCreateModel(monaco, value, language, path) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\nfunction getModel(monaco, path) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\nfunction createModel(monaco, value, language, path) {\n  return monaco.editor.createModel(value, language, path ? createModelUri(monaco, path) : void 0);\n}\nfunction createModelUri(monaco, path) {\n  return monaco.Uri.parse(path);\n}\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1) for (var prop of __getOwnPropSymbols$1(b)) {\n    if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n  return a;\n};\nconst loadingStyle$1 = {\n  display: \"flex\",\n  height: \"100%\",\n  width: \"100%\",\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar VueMonacoEditor = defineComponent({\n  name: \"VueMonacoEditor\",\n  // TODO: vue3 use modelValue, vue2 use value\n  model: {\n    prop: \"value\",\n    event: \"update:value\"\n  },\n  props: {\n    defaultValue: String,\n    defaultPath: String,\n    defaultLanguage: String,\n    value: String,\n    language: String,\n    path: String,\n    /* === */\n    theme: {\n      type: String,\n      default: \"vs\"\n    },\n    line: Number,\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    overrideServices: {\n      type: Object,\n      default: () => ({})\n    },\n    saveViewState: {\n      type: Boolean,\n      default: true\n    },\n    /* === */\n    width: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    height: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    className: String\n  },\n  emits: [\"update:value\", \"beforeMount\", \"mount\", \"change\", \"validate\"],\n  setup(props, ctx) {\n    const viewStates = /* @__PURE__ */new Map();\n    const containerRef = shallowRef(null);\n    const {\n      monacoRef,\n      unload,\n      isLoadFailed\n    } = useMonaco();\n    const {\n      editorRef\n    } = useEditor(ctx, props, monacoRef, containerRef);\n    const {\n      disposeValidator\n    } = useValidator(ctx, props, monacoRef, editorRef);\n    const isEditorReady = computed(() => !!monacoRef.value && !!editorRef.value);\n    const {\n      wrapperStyle,\n      containerStyle\n    } = useContainer(props, isEditorReady);\n    onUnmounted(() => {\n      var _a, _b;\n      (_a = disposeValidator.value) == null ? void 0 : _a.call(disposeValidator);\n      if (editorRef.value) {\n        (_b = editorRef.value.getModel()) == null ? void 0 : _b.dispose();\n        editorRef.value.dispose();\n      } else {\n        unload();\n      }\n    });\n    watch([() => props.path, () => props.value, () => props.language, () => props.line], ([newPath, newValue, newLanguage, newLine], [oldPath, oldValue, oldLanguage, oldLine]) => {\n      if (!isEditorReady.value) {\n        return;\n      }\n      if (newPath !== oldPath) {\n        const newModel = getOrCreateModel(monacoRef.value, newValue || props.defaultValue || \"\", newLanguage || props.defaultLanguage || \"\", newPath || props.defaultPath || \"\");\n        props.saveViewState && viewStates.set(oldPath, editorRef.value.saveViewState());\n        editorRef.value.setModel(newModel);\n        props.saveViewState && editorRef.value.restoreViewState(viewStates.get(newPath));\n        if (!isUndefined(newLine)) {\n          editorRef.value.revealLine(newLine);\n        }\n        return;\n      }\n      if (editorRef.value.getValue() !== newValue) {\n        editorRef.value.setValue(newValue);\n      }\n      if (newLanguage !== oldLanguage) {\n        monacoRef.value.editor.setModelLanguage(editorRef.value.getModel(), newLanguage);\n      }\n      if (!isUndefined(newLine) && newLine !== oldLine) {\n        editorRef.value.revealLine(newLine);\n      }\n    });\n    watch(() => props.options, options => editorRef.value && editorRef.value.updateOptions(options), {\n      deep: true\n    });\n    watch(() => props.theme, theme => monacoRef.value && monacoRef.value.editor.setTheme(theme));\n    return {\n      containerRef,\n      isEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle\n    };\n  },\n  render() {\n    const {\n      $slots,\n      isEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle,\n      // TODO: need remove, add `@deprecated` flag\n      className\n    } = this;\n    return h(\"div\", {\n      style: wrapperStyle\n    }, [!isEditorReady && h(\"div\", {\n      style: loadingStyle$1\n    }, isLoadFailed ? $slots.failure ? slotHelper($slots.failure) : \"load failed\" : $slots.default ? slotHelper($slots.default) : \"loading...\"), h(\"div\", {\n      ref: \"containerRef\",\n      key: \"monaco_editor_container\",\n      style: containerStyle,\n      class: className\n    })]);\n  }\n});\nfunction useEditor({\n  emit\n}, props, monacoRef, containerRef) {\n  const editorRef = shallowRef(null);\n  onMounted(() => {\n    const stop = watch(monacoRef, () => {\n      if (containerRef.value && monacoRef.value) {\n        nextTick(() => stop());\n        createEditor();\n      }\n    }, {\n      immediate: true\n    });\n  });\n  function createEditor() {\n    var _a;\n    if (!containerRef.value || !monacoRef.value || editorRef.value) {\n      return;\n    }\n    emit(\"beforeMount\", monacoRef.value);\n    const autoCreatedModelPath = props.path || props.defaultPath;\n    const defaultModel = getOrCreateModel(monacoRef.value, props.value || props.defaultValue || \"\", props.language || props.defaultLanguage || \"\", autoCreatedModelPath || \"\");\n    editorRef.value = monacoRef.value.editor.create(containerRef.value, __spreadValues$1({\n      model: defaultModel,\n      theme: props.theme,\n      automaticLayout: true,\n      autoIndent: \"brackets\",\n      formatOnPaste: true,\n      formatOnType: true\n    }, props.options), props.overrideServices);\n    (_a = editorRef.value) == null ? void 0 : _a.onDidChangeModelContent(event => {\n      const value = editorRef.value.getValue();\n      if (value !== props.value) {\n        emit(\"update:value\", value);\n        emit(\"change\", value, event);\n      }\n    });\n    if (editorRef.value && !isUndefined(props.line)) {\n      editorRef.value.revealLine(props.line);\n    }\n    emit(\"mount\", editorRef.value, monacoRef.value);\n  }\n  return {\n    editorRef\n  };\n}\nfunction useValidator({\n  emit\n}, props, monacoRef, editorRef) {\n  const disposeValidator = ref(null);\n  const stop = watch([monacoRef, editorRef], () => {\n    if (monacoRef.value && editorRef.value) {\n      nextTick(() => stop());\n      const changeMarkersListener = monacoRef.value.editor.onDidChangeMarkers(uris => {\n        var _a, _b;\n        const editorUri = (_b = (_a = editorRef.value) == null ? void 0 : _a.getModel()) == null ? void 0 : _b.uri;\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find(uri => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.value.editor.getModelMarkers({\n              resource: editorUri\n            });\n            emit(\"validate\", markers);\n          }\n        }\n      });\n      disposeValidator.value = () => changeMarkersListener == null ? void 0 : changeMarkersListener.dispose();\n    }\n  });\n  return {\n    disposeValidator\n  };\n}\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nconst loadingStyle = {\n  display: \"flex\",\n  height: \"100%\",\n  width: \"100%\",\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar VueMonacoDiffEditor = defineComponent({\n  name: \"VueMonacoDiffEditor\",\n  props: {\n    original: String,\n    modified: String,\n    language: String,\n    originalLanguage: String,\n    modifiedLanguage: String,\n    originalModelPath: String,\n    modifiedModelPath: String,\n    /* == */\n    theme: {\n      type: String,\n      default: \"vs\"\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    /* == */\n    width: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    height: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    className: String\n  },\n  setup(props, ctx) {\n    const containerRef = shallowRef(null);\n    const {\n      monacoRef,\n      unload,\n      isLoadFailed\n    } = useMonaco();\n    const {\n      diffEditorRef\n    } = useDiffEditor(ctx, props, monacoRef, containerRef);\n    const isDiffEditorReady = computed(() => !!monacoRef.value && !!diffEditorRef.value);\n    const {\n      wrapperStyle,\n      containerStyle\n    } = useContainer(props, isDiffEditorReady);\n    onUnmounted(() => {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      !monacoRef.value && unload();\n      const models = (_b = (_a = diffEditorRef.value) == null ? void 0 : _a.getModel) == null ? void 0 : _b.call(_a);\n      (_d = (_c = models == null ? void 0 : models.original) == null ? void 0 : _c.dispose) == null ? void 0 : _d.call(_c);\n      (_f = (_e = models == null ? void 0 : models.modified) == null ? void 0 : _e.dispose) == null ? void 0 : _f.call(_e);\n      (_h = (_g = diffEditorRef.value) == null ? void 0 : _g.dispose) == null ? void 0 : _h.call(_g);\n    });\n    watch([() => props.originalModelPath, () => props.original, () => props.originalLanguage, () => props.language], ([newOriginalModelPath, newOriginal, newOriginalLanguage, newLanguage], [oldOriginalModelPath, oldOriginal, oldOriginalLanguage, oldLanguage]) => {\n      if (!isDiffEditorReady.value) {\n        return;\n      }\n      const originalEditor = diffEditorRef.value.getOriginalEditor();\n      if (newOriginalModelPath !== oldOriginalModelPath) {\n        const newOriginModel = getOrCreateModel(monacoRef.value, newOriginal || \"\", newOriginalLanguage || newLanguage || \"text\", newOriginalModelPath || \"\");\n        originalEditor.setModel(newOriginModel);\n        return;\n      }\n      if (newOriginal !== originalEditor.getValue()) {\n        originalEditor.setValue(newOriginal || \"\");\n      }\n      if (newOriginalLanguage !== oldOriginalLanguage || newLanguage !== oldLanguage) {\n        monacoRef.value.editor.setModelLanguage(diffEditorRef.value.getModel().original, newOriginalLanguage || newLanguage || \"text\");\n      }\n    });\n    watch([() => props.modifiedModelPath, () => props.modified, () => props.modifiedLanguage, () => props.language], ([newModifiedModelPath, newModified, newModifiedLanguage, newLanguage], [oldModifiedModelPath, oldModified, oldModifiedLanguage, oldLanguage]) => {\n      if (!isDiffEditorReady.value) {\n        return;\n      }\n      const modifiedEditor = diffEditorRef.value.getModifiedEditor();\n      if (oldModifiedModelPath !== newModifiedModelPath) {\n        const newModifiedModel = getOrCreateModel(monacoRef.value, newModified || \"\", newModifiedLanguage || newLanguage || \"text\", newModifiedModelPath || \"\");\n        modifiedEditor.setModel(newModifiedModel);\n        return;\n      }\n      if (newModified !== modifiedEditor.getValue()) {\n        const readOnlyCode = monacoRef.value.editor.EditorOption.readOnly;\n        if (modifiedEditor.getOption(readOnlyCode)) {\n          modifiedEditor.setValue(newModified || \"\");\n        } else {\n          modifiedEditor.executeEdits(\"\", [{\n            range: modifiedEditor.getModel().getFullModelRange(),\n            text: newModified || \"\",\n            forceMoveMarkers: true\n          }]);\n          modifiedEditor.pushUndoStop();\n        }\n      }\n      if (newModifiedLanguage !== oldModifiedLanguage || newLanguage !== oldLanguage) {\n        monacoRef.value.editor.setModelLanguage(diffEditorRef.value.getModel().modified, newModifiedLanguage || newLanguage || \"text\");\n      }\n    });\n    watch(() => props.theme, () => {\n      var _a;\n      return (_a = monacoRef.value) == null ? void 0 : _a.editor.setTheme(props.theme);\n    });\n    watch(() => props.options, () => {\n      var _a;\n      return (_a = diffEditorRef.value) == null ? void 0 : _a.updateOptions(props.options);\n    }, {\n      deep: true\n    });\n    return {\n      containerRef,\n      isDiffEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle\n    };\n  },\n  render() {\n    const {\n      $slots,\n      isDiffEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle,\n      className\n    } = this;\n    return h(\"div\", {\n      style: wrapperStyle\n    }, [!isDiffEditorReady && h(\"div\", {\n      style: loadingStyle\n    }, isLoadFailed ? $slots.failure ? slotHelper($slots.failure) : \"load failed\" : $slots.default ? slotHelper($slots.default) : \"loading...\"), h(\"div\", {\n      ref: \"containerRef\",\n      key: \"monaco_diff_editor_container\",\n      style: containerStyle,\n      class: className\n    })]);\n  }\n});\nfunction useDiffEditor({\n  emit\n}, props, monacoRef, containerRef) {\n  const diffEditorRef = shallowRef(null);\n  onMounted(() => {\n    const stop = watch(monacoRef, () => {\n      if (containerRef.value && monacoRef.value) {\n        nextTick(() => stop());\n        createDiffEditor();\n      }\n    }, {\n      immediate: true\n    });\n  });\n  function createDiffEditor() {\n    var _a;\n    if (!containerRef.value || !monacoRef.value || diffEditorRef.value) {\n      return;\n    }\n    emit(\"beforeMount\", monacoRef.value);\n    diffEditorRef.value = monacoRef.value.editor.createDiffEditor(containerRef.value, __spreadValues({\n      automaticLayout: true,\n      autoIndent: \"brackets\",\n      theme: props.theme,\n      formatOnPaste: true,\n      formatOnType: true\n    }, props.options));\n    const originalModel = getOrCreateModel(monacoRef.value, props.original || \"\", props.originalLanguage || props.language || \"text\", props.originalModelPath || \"\");\n    const modifiedModel = getOrCreateModel(monacoRef.value, props.modified || \"\", props.modifiedLanguage || props.language || \"text\", props.modifiedModelPath || \"\");\n    (_a = diffEditorRef.value) == null ? void 0 : _a.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n    emit(\"mount\", diffEditorRef.value, monacoRef.value);\n  }\n  return {\n    diffEditorRef\n  };\n}\nfunction install(app, options) {\n  if (options) {\n    loader.config(options);\n  }\n  app.component(VueMonacoEditor.name, VueMonacoEditor);\n  app.component(VueMonacoDiffEditor.name, VueMonacoDiffEditor);\n}\nexport { VueMonacoDiffEditor as DiffEditor, VueMonacoEditor as Editor, VueMonacoDiffEditor, VueMonacoEditor, VueMonacoEditor as default, install, useMonaco };","map":{"version":3,"names":["loader","default","computed","shallowRef","ref","onMounted","defineComponent","onUnmounted","watch","h","nextTick","__defProp$2","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols$2","getOwnPropertySymbols","__hasOwnProp$2","prototype","hasOwnProperty","__propIsEnum$2","propertyIsEnumerable","__defNormalProp$2","obj","key","value","enumerable","configurable","writable","__spreadValues$2","a","b","prop","call","__spreadProps","styles","wrapper","display","position","textAlign","fullWidth","width","hide","useContainer","props","isEditorReady","wrapperStyle","height","containerStyle","useMonaco","monacoRef","__getMonacoInstance","isLoadFailed","promise","init","then","monacoInstance","catch","error","type","console","unload","cancel","slotHelper","slot","isUndefined","v","getOrCreateModel","monaco","language","path","getModel","createModel","editor","createModelUri","Uri","parse","__defProp$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","loadingStyle$1","justifyContent","alignItems","VueMonacoEditor","name","model","event","defaultValue","String","defaultPath","defaultLanguage","theme","line","Number","options","overrideServices","saveViewState","Boolean","className","emits","setup","ctx","viewStates","Map","containerRef","editorRef","useEditor","disposeValidator","useValidator","_a","_b","dispose","newPath","newValue","newLanguage","newLine","oldPath","oldValue","oldLanguage","oldLine","newModel","set","setModel","restoreViewState","get","revealLine","getValue","setValue","setModelLanguage","updateOptions","deep","setTheme","render","$slots","style","failure","class","emit","stop","createEditor","immediate","autoCreatedModelPath","defaultModel","create","automaticLayout","autoIndent","formatOnPaste","formatOnType","onDidChangeModelContent","changeMarkersListener","onDidChangeMarkers","uris","editorUri","uri","currentEditorHasMarkerChanges","find","markers","getModelMarkers","resource","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","loadingStyle","VueMonacoDiffEditor","original","modified","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","diffEditorRef","useDiffEditor","isDiffEditorReady","_c","_d","_e","_f","_g","_h","models","newOriginalModelPath","newOriginal","newOriginalLanguage","oldOriginalModelPath","oldOriginal","oldOriginalLanguage","originalEditor","getOriginalEditor","newOriginModel","newModifiedModelPath","newModified","newModifiedLanguage","oldModifiedModelPath","oldModified","oldModifiedLanguage","modifiedEditor","getModifiedEditor","newModifiedModel","readOnlyCode","EditorOption","readOnly","getOption","executeEdits","range","getFullModelRange","text","forceMoveMarkers","pushUndoStop","createDiffEditor","originalModel","modifiedModel","install","app","config","component","DiffEditor","Editor"],"sources":["C:/Users/ruzhe/mobile-apps-games-container/code-master/node_modules/@guolao/vue-monaco-editor/lib/es/index.js"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { default as loader } from '@monaco-editor/loader';\nimport { computed, shallowRef, ref, onMounted, defineComponent, onUnmounted, watch, h, nextTick } from 'vue-demi';\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst styles = {\n  wrapper: {\n    display: \"flex\",\n    position: \"relative\",\n    textAlign: \"initial\"\n  },\n  fullWidth: {\n    width: \"100%\"\n  },\n  hide: {\n    display: \"none\"\n  }\n};\nfunction useContainer(props, isEditorReady) {\n  const wrapperStyle = computed(() => {\n    const { width, height } = props;\n    return __spreadProps(__spreadValues$2({}, styles.wrapper), {\n      width,\n      height\n    });\n  });\n  const containerStyle = computed(() => {\n    return __spreadValues$2(__spreadValues$2({}, styles.fullWidth), !isEditorReady.value && styles.hide);\n  });\n  return { wrapperStyle, containerStyle };\n}\n\nfunction useMonaco() {\n  const monacoRef = shallowRef(loader.__getMonacoInstance());\n  const isLoadFailed = ref(false);\n  let promise;\n  onMounted(() => {\n    if (monacoRef.value)\n      return;\n    promise = loader.init();\n    promise.then((monacoInstance) => monacoRef.value = monacoInstance).catch((error) => {\n      if ((error == null ? void 0 : error.type) !== \"cancelation\") {\n        isLoadFailed.value = true;\n        console.error(\"Monaco initialization error:\", error);\n      }\n    });\n  });\n  const unload = () => promise == null ? void 0 : promise.cancel();\n  return {\n    monacoRef,\n    unload,\n    isLoadFailed\n  };\n}\n\nfunction slotHelper(slot) {\n  return typeof slot == \"function\" ? slot() : slot;\n}\nfunction isUndefined(v) {\n  return v === void 0;\n}\nfunction getOrCreateModel(monaco, value, language, path) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\nfunction getModel(monaco, path) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\nfunction createModel(monaco, value, language, path) {\n  return monaco.editor.createModel(value, language, path ? createModelUri(monaco, path) : void 0);\n}\nfunction createModelUri(monaco, path) {\n  return monaco.Uri.parse(path);\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nconst loadingStyle$1 = {\n  display: \"flex\",\n  height: \"100%\",\n  width: \"100%\",\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar VueMonacoEditor = defineComponent({\n  name: \"VueMonacoEditor\",\n  // TODO: vue3 use modelValue, vue2 use value\n  model: {\n    prop: \"value\",\n    event: \"update:value\"\n  },\n  props: {\n    defaultValue: String,\n    defaultPath: String,\n    defaultLanguage: String,\n    value: String,\n    language: String,\n    path: String,\n    /* === */\n    theme: {\n      type: String,\n      default: \"vs\"\n    },\n    line: Number,\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    overrideServices: {\n      type: Object,\n      default: () => ({})\n    },\n    saveViewState: {\n      type: Boolean,\n      default: true\n    },\n    /* === */\n    width: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    height: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    className: String\n  },\n  emits: [\"update:value\", \"beforeMount\", \"mount\", \"change\", \"validate\"],\n  setup(props, ctx) {\n    const viewStates = /* @__PURE__ */ new Map();\n    const containerRef = shallowRef(null);\n    const { monacoRef, unload, isLoadFailed } = useMonaco();\n    const { editorRef } = useEditor(ctx, props, monacoRef, containerRef);\n    const { disposeValidator } = useValidator(ctx, props, monacoRef, editorRef);\n    const isEditorReady = computed(() => !!monacoRef.value && !!editorRef.value);\n    const { wrapperStyle, containerStyle } = useContainer(props, isEditorReady);\n    onUnmounted(() => {\n      var _a, _b;\n      (_a = disposeValidator.value) == null ? void 0 : _a.call(disposeValidator);\n      if (editorRef.value) {\n        (_b = editorRef.value.getModel()) == null ? void 0 : _b.dispose();\n        editorRef.value.dispose();\n      } else {\n        unload();\n      }\n    });\n    watch(\n      [() => props.path, () => props.value, () => props.language, () => props.line],\n      ([newPath, newValue, newLanguage, newLine], [oldPath, oldValue, oldLanguage, oldLine]) => {\n        if (!isEditorReady.value) {\n          return;\n        }\n        if (newPath !== oldPath) {\n          const newModel = getOrCreateModel(\n            monacoRef.value,\n            newValue || props.defaultValue || \"\",\n            newLanguage || props.defaultLanguage || \"\",\n            newPath || props.defaultPath || \"\"\n          );\n          props.saveViewState && viewStates.set(oldPath, editorRef.value.saveViewState());\n          editorRef.value.setModel(newModel);\n          props.saveViewState && editorRef.value.restoreViewState(viewStates.get(newPath));\n          if (!isUndefined(newLine)) {\n            editorRef.value.revealLine(newLine);\n          }\n          return;\n        }\n        if (editorRef.value.getValue() !== newValue) {\n          editorRef.value.setValue(newValue);\n        }\n        if (newLanguage !== oldLanguage) {\n          monacoRef.value.editor.setModelLanguage(editorRef.value.getModel(), newLanguage);\n        }\n        if (!isUndefined(newLine) && newLine !== oldLine) {\n          editorRef.value.revealLine(newLine);\n        }\n      }\n    );\n    watch(\n      () => props.options,\n      (options) => editorRef.value && editorRef.value.updateOptions(options),\n      { deep: true }\n    );\n    watch(\n      () => props.theme,\n      (theme) => monacoRef.value && monacoRef.value.editor.setTheme(theme)\n    );\n    return {\n      containerRef,\n      isEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle\n    };\n  },\n  render() {\n    const {\n      $slots,\n      isEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle,\n      // TODO: need remove, add `@deprecated` flag\n      className\n    } = this;\n    return h(\n      \"div\",\n      {\n        style: wrapperStyle\n      },\n      [\n        !isEditorReady && h(\n          \"div\",\n          {\n            style: loadingStyle$1\n          },\n          isLoadFailed ? $slots.failure ? slotHelper($slots.failure) : \"load failed\" : $slots.default ? slotHelper($slots.default) : \"loading...\"\n        ),\n        h(\"div\", {\n          ref: \"containerRef\",\n          key: \"monaco_editor_container\",\n          style: containerStyle,\n          class: className\n        })\n      ]\n    );\n  }\n});\nfunction useEditor({ emit }, props, monacoRef, containerRef) {\n  const editorRef = shallowRef(null);\n  onMounted(() => {\n    const stop = watch(\n      monacoRef,\n      () => {\n        if (containerRef.value && monacoRef.value) {\n          nextTick(() => stop());\n          createEditor();\n        }\n      },\n      { immediate: true }\n    );\n  });\n  function createEditor() {\n    var _a;\n    if (!containerRef.value || !monacoRef.value || editorRef.value) {\n      return;\n    }\n    emit(\"beforeMount\", monacoRef.value);\n    const autoCreatedModelPath = props.path || props.defaultPath;\n    const defaultModel = getOrCreateModel(\n      monacoRef.value,\n      props.value || props.defaultValue || \"\",\n      props.language || props.defaultLanguage || \"\",\n      autoCreatedModelPath || \"\"\n    );\n    editorRef.value = monacoRef.value.editor.create(\n      containerRef.value,\n      __spreadValues$1({\n        model: defaultModel,\n        theme: props.theme,\n        automaticLayout: true,\n        autoIndent: \"brackets\",\n        formatOnPaste: true,\n        formatOnType: true\n      }, props.options),\n      props.overrideServices\n    );\n    (_a = editorRef.value) == null ? void 0 : _a.onDidChangeModelContent((event) => {\n      const value = editorRef.value.getValue();\n      if (value !== props.value) {\n        emit(\"update:value\", value);\n        emit(\"change\", value, event);\n      }\n    });\n    if (editorRef.value && !isUndefined(props.line)) {\n      editorRef.value.revealLine(props.line);\n    }\n    emit(\"mount\", editorRef.value, monacoRef.value);\n  }\n  return { editorRef };\n}\nfunction useValidator({ emit }, props, monacoRef, editorRef) {\n  const disposeValidator = ref(null);\n  const stop = watch([monacoRef, editorRef], () => {\n    if (monacoRef.value && editorRef.value) {\n      nextTick(() => stop());\n      const changeMarkersListener = monacoRef.value.editor.onDidChangeMarkers((uris) => {\n        var _a, _b;\n        const editorUri = (_b = (_a = editorRef.value) == null ? void 0 : _a.getModel()) == null ? void 0 : _b.uri;\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.value.editor.getModelMarkers({\n              resource: editorUri\n            });\n            emit(\"validate\", markers);\n          }\n        }\n      });\n      disposeValidator.value = () => changeMarkersListener == null ? void 0 : changeMarkersListener.dispose();\n    }\n  });\n  return { disposeValidator };\n}\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst loadingStyle = {\n  display: \"flex\",\n  height: \"100%\",\n  width: \"100%\",\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar VueMonacoDiffEditor = defineComponent({\n  name: \"VueMonacoDiffEditor\",\n  props: {\n    original: String,\n    modified: String,\n    language: String,\n    originalLanguage: String,\n    modifiedLanguage: String,\n    originalModelPath: String,\n    modifiedModelPath: String,\n    /* == */\n    theme: {\n      type: String,\n      default: \"vs\"\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    /* == */\n    width: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    height: {\n      type: [Number, String],\n      default: \"100%\"\n    },\n    className: String\n  },\n  setup(props, ctx) {\n    const containerRef = shallowRef(null);\n    const { monacoRef, unload, isLoadFailed } = useMonaco();\n    const { diffEditorRef } = useDiffEditor(ctx, props, monacoRef, containerRef);\n    const isDiffEditorReady = computed(() => !!monacoRef.value && !!diffEditorRef.value);\n    const { wrapperStyle, containerStyle } = useContainer(props, isDiffEditorReady);\n    onUnmounted(() => {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      !monacoRef.value && unload();\n      const models = (_b = (_a = diffEditorRef.value) == null ? void 0 : _a.getModel) == null ? void 0 : _b.call(_a);\n      (_d = (_c = models == null ? void 0 : models.original) == null ? void 0 : _c.dispose) == null ? void 0 : _d.call(_c);\n      (_f = (_e = models == null ? void 0 : models.modified) == null ? void 0 : _e.dispose) == null ? void 0 : _f.call(_e);\n      (_h = (_g = diffEditorRef.value) == null ? void 0 : _g.dispose) == null ? void 0 : _h.call(_g);\n    });\n    watch(\n      [() => props.originalModelPath, () => props.original, () => props.originalLanguage, () => props.language],\n      ([newOriginalModelPath, newOriginal, newOriginalLanguage, newLanguage], [oldOriginalModelPath, oldOriginal, oldOriginalLanguage, oldLanguage]) => {\n        if (!isDiffEditorReady.value) {\n          return;\n        }\n        const originalEditor = diffEditorRef.value.getOriginalEditor();\n        if (newOriginalModelPath !== oldOriginalModelPath) {\n          const newOriginModel = getOrCreateModel(\n            monacoRef.value,\n            newOriginal || \"\",\n            newOriginalLanguage || newLanguage || \"text\",\n            newOriginalModelPath || \"\"\n          );\n          originalEditor.setModel(newOriginModel);\n          return;\n        }\n        if (newOriginal !== originalEditor.getValue()) {\n          originalEditor.setValue(newOriginal || \"\");\n        }\n        if (newOriginalLanguage !== oldOriginalLanguage || newLanguage !== oldLanguage) {\n          monacoRef.value.editor.setModelLanguage(\n            diffEditorRef.value.getModel().original,\n            newOriginalLanguage || newLanguage || \"text\"\n          );\n        }\n      }\n    );\n    watch(\n      [() => props.modifiedModelPath, () => props.modified, () => props.modifiedLanguage, () => props.language],\n      ([newModifiedModelPath, newModified, newModifiedLanguage, newLanguage], [oldModifiedModelPath, oldModified, oldModifiedLanguage, oldLanguage]) => {\n        if (!isDiffEditorReady.value) {\n          return;\n        }\n        const modifiedEditor = diffEditorRef.value.getModifiedEditor();\n        if (oldModifiedModelPath !== newModifiedModelPath) {\n          const newModifiedModel = getOrCreateModel(\n            monacoRef.value,\n            newModified || \"\",\n            newModifiedLanguage || newLanguage || \"text\",\n            newModifiedModelPath || \"\"\n          );\n          modifiedEditor.setModel(newModifiedModel);\n          return;\n        }\n        if (newModified !== modifiedEditor.getValue()) {\n          const readOnlyCode = monacoRef.value.editor.EditorOption.readOnly;\n          if (modifiedEditor.getOption(readOnlyCode)) {\n            modifiedEditor.setValue(newModified || \"\");\n          } else {\n            modifiedEditor.executeEdits(\"\", [\n              {\n                range: modifiedEditor.getModel().getFullModelRange(),\n                text: newModified || \"\",\n                forceMoveMarkers: true\n              }\n            ]);\n            modifiedEditor.pushUndoStop();\n          }\n        }\n        if (newModifiedLanguage !== oldModifiedLanguage || newLanguage !== oldLanguage) {\n          monacoRef.value.editor.setModelLanguage(\n            diffEditorRef.value.getModel().modified,\n            newModifiedLanguage || newLanguage || \"text\"\n          );\n        }\n      }\n    );\n    watch(\n      () => props.theme,\n      () => {\n        var _a;\n        return (_a = monacoRef.value) == null ? void 0 : _a.editor.setTheme(props.theme);\n      }\n    );\n    watch(\n      () => props.options,\n      () => {\n        var _a;\n        return (_a = diffEditorRef.value) == null ? void 0 : _a.updateOptions(props.options);\n      },\n      { deep: true }\n    );\n    return {\n      containerRef,\n      isDiffEditorReady,\n      isLoadFailed,\n      wrapperStyle,\n      containerStyle\n    };\n  },\n  render() {\n    const { $slots, isDiffEditorReady, isLoadFailed, wrapperStyle, containerStyle, className } = this;\n    return h(\n      \"div\",\n      {\n        style: wrapperStyle\n      },\n      [\n        !isDiffEditorReady && h(\n          \"div\",\n          {\n            style: loadingStyle\n          },\n          isLoadFailed ? $slots.failure ? slotHelper($slots.failure) : \"load failed\" : $slots.default ? slotHelper($slots.default) : \"loading...\"\n        ),\n        h(\"div\", {\n          ref: \"containerRef\",\n          key: \"monaco_diff_editor_container\",\n          style: containerStyle,\n          class: className\n        })\n      ]\n    );\n  }\n});\nfunction useDiffEditor({ emit }, props, monacoRef, containerRef) {\n  const diffEditorRef = shallowRef(null);\n  onMounted(() => {\n    const stop = watch(\n      monacoRef,\n      () => {\n        if (containerRef.value && monacoRef.value) {\n          nextTick(() => stop());\n          createDiffEditor();\n        }\n      },\n      { immediate: true }\n    );\n  });\n  function createDiffEditor() {\n    var _a;\n    if (!containerRef.value || !monacoRef.value || diffEditorRef.value) {\n      return;\n    }\n    emit(\"beforeMount\", monacoRef.value);\n    diffEditorRef.value = monacoRef.value.editor.createDiffEditor(containerRef.value, __spreadValues({\n      automaticLayout: true,\n      autoIndent: \"brackets\",\n      theme: props.theme,\n      formatOnPaste: true,\n      formatOnType: true\n    }, props.options));\n    const originalModel = getOrCreateModel(\n      monacoRef.value,\n      props.original || \"\",\n      props.originalLanguage || props.language || \"text\",\n      props.originalModelPath || \"\"\n    );\n    const modifiedModel = getOrCreateModel(\n      monacoRef.value,\n      props.modified || \"\",\n      props.modifiedLanguage || props.language || \"text\",\n      props.modifiedModelPath || \"\"\n    );\n    (_a = diffEditorRef.value) == null ? void 0 : _a.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n    emit(\"mount\", diffEditorRef.value, monacoRef.value);\n  }\n  return { diffEditorRef };\n}\n\nfunction install(app, options) {\n  if (options) {\n    loader.config(options);\n  }\n  app.component(VueMonacoEditor.name, VueMonacoEditor);\n  app.component(VueMonacoDiffEditor.name, VueMonacoDiffEditor);\n}\n\nexport { VueMonacoDiffEditor as DiffEditor, VueMonacoEditor as Editor, VueMonacoDiffEditor, VueMonacoEditor, VueMonacoEditor as default, install, useMonaco };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}