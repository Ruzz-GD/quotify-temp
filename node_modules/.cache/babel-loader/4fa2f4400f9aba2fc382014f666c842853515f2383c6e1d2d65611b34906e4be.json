{"ast":null,"code":"import { Preferences } from \"@capacitor/preferences\";\nexport const recordAttempt = async keyName => {\n  try {\n    let AttemptContent = await Preferences.get({\n      key: keyName\n    });\n    let attemptCount = 1;\n    if (AttemptContent.value) {\n      AttemptContent = JSON.parse(AttemptContent.value);\n      attemptCount = AttemptContent.attempt + 1;\n    }\n    const attemptData = {\n      attempt: attemptCount,\n      date: new Date().toISOString()\n    };\n    await Preferences.set({\n      key: keyName,\n      value: JSON.stringify(attemptData)\n    });\n    console.log('Attempt recorded successfully');\n  } catch (err) {\n    console.error('Error recording attempt:', err);\n  }\n};\nexport const savePreference = async (id, payload) => {\n  await Preferences.set({\n    key: id,\n    value: JSON.stringify(payload)\n  });\n};\nexport const getPreference = async id => {\n  const {\n    value\n  } = await Preferences.get({\n    key: id\n  });\n  return value ? JSON.parse(value) : null;\n};\nexport const removePreference = async id => {\n  await Preferences.remove({\n    key: id\n  });\n};\nexport const getAllKeys = async () => {\n  const {\n    keys\n  } = await Preferences.keys();\n  return keys;\n};","map":{"version":3,"names":["Preferences","recordAttempt","keyName","AttemptContent","get","key","attemptCount","value","JSON","parse","attempt","attemptData","date","Date","toISOString","set","stringify","console","log","err","error","savePreference","id","payload","getPreference","removePreference","remove","getAllKeys","keys"],"sources":["C:/Users/ruzhe/CODEHUB-PH/GAMES/code-master/src/utils/PreferencesService.js"],"sourcesContent":["import { Preferences } from \"@capacitor/preferences\";\r\n\r\nexport const recordAttempt = async (keyName) => {\r\n  try {\r\n    let AttemptContent = await Preferences.get({ key: keyName });\r\n\r\n    let attemptCount = 1;\r\n    if (AttemptContent.value) {\r\n      AttemptContent = JSON.parse(AttemptContent.value);\r\n      attemptCount = AttemptContent.attempt + 1;\r\n    }\r\n    \r\n    const attemptData = {\r\n      attempt: attemptCount,\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    await Preferences.set({\r\n      key: keyName,\r\n      value: JSON.stringify(attemptData),\r\n    });\r\n    console.log('Attempt recorded successfully');\r\n  } catch (err) {\r\n    console.error('Error recording attempt:', err);\r\n  }\r\n};\r\n\r\nexport const savePreference = async (id, payload) => {\r\n  await Preferences.set({\r\n    key: id,  \r\n    value: JSON.stringify(payload),  \r\n  });\r\n};\r\n\r\nexport const getPreference = async (id) => {\r\n  const { value } = await Preferences.get({ key: id });\r\n  return value ? JSON.parse(value) : null;  \r\n};\r\n\r\nexport const removePreference = async (id) => {\r\n  await Preferences.remove({ key: id });\r\n};\r\n\r\nexport const getAllKeys = async () => {\r\n  const { keys } = await Preferences.keys();\r\n  return keys;\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,wBAAwB;AAEpD,OAAO,MAAMC,aAAa,GAAG,MAAOC,OAAO,IAAK;EAC9C,IAAI;IACF,IAAIC,cAAc,GAAG,MAAMH,WAAW,CAACI,GAAG,CAAC;MAAEC,GAAG,EAAEH;IAAQ,CAAC,CAAC;IAE5D,IAAII,YAAY,GAAG,CAAC;IACpB,IAAIH,cAAc,CAACI,KAAK,EAAE;MACxBJ,cAAc,GAAGK,IAAI,CAACC,KAAK,CAACN,cAAc,CAACI,KAAK,CAAC;MACjDD,YAAY,GAAGH,cAAc,CAACO,OAAO,GAAG,CAAC;IAC3C;IAEA,MAAMC,WAAW,GAAG;MAClBD,OAAO,EAAEJ,YAAY;MACrBM,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAC/B,CAAC;IAED,MAAMd,WAAW,CAACe,GAAG,CAAC;MACpBV,GAAG,EAAEH,OAAO;MACZK,KAAK,EAAEC,IAAI,CAACQ,SAAS,CAACL,WAAW;IACnC,CAAC,CAAC;IACFM,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC9C,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZF,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAED,GAAG,CAAC;EAChD;AACF,CAAC;AAED,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAOC,EAAE,EAAEC,OAAO,KAAK;EACnD,MAAMvB,WAAW,CAACe,GAAG,CAAC;IACpBV,GAAG,EAAEiB,EAAE;IACPf,KAAK,EAAEC,IAAI,CAACQ,SAAS,CAACO,OAAO;EAC/B,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAOF,EAAE,IAAK;EACzC,MAAM;IAAEf;EAAM,CAAC,GAAG,MAAMP,WAAW,CAACI,GAAG,CAAC;IAAEC,GAAG,EAAEiB;EAAG,CAAC,CAAC;EACpD,OAAOf,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAC,GAAG,IAAI;AACzC,CAAC;AAED,OAAO,MAAMkB,gBAAgB,GAAG,MAAOH,EAAE,IAAK;EAC5C,MAAMtB,WAAW,CAAC0B,MAAM,CAAC;IAAErB,GAAG,EAAEiB;EAAG,CAAC,CAAC;AACvC,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,MAAAA,CAAA,KAAY;EACpC,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAM5B,WAAW,CAAC4B,IAAI,CAAC,CAAC;EACzC,OAAOA,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}