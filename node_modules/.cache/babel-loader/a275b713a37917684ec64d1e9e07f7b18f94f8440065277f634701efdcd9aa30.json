{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport FileSystemService from '@/utils/FileSystemService';\nimport { formatDate } from '@/utils/GameUtils';\nexport default {\n  data() {\n    return {\n      recordInfoBG: '',\n      recordData: {}\n    };\n  },\n  computed: {\n    ...mapGetters(['getHVI', 'currentTheme'])\n  },\n  methods: {\n    ...mapActions(['toggleHVI']),\n    async fetchRecordData() {\n      const fileName = this.getHVI.value2;\n      const fileNameAttempt = fileName + '-ATTEMPT';\n      if (fileName) {\n        let combinedData = {};\n        try {\n          const data = await FileSystemService.readFile(fileName);\n          combinedData.data = typeof data === 'string' ? JSON.parse(data) : data;\n        } catch (error) {\n          console.error('Error reading or parsing main data file', error);\n        }\n        try {\n          const attemptData = await FileSystemService.readFile(fileNameAttempt);\n          combinedData.attemptData = typeof attemptData === 'string' ? JSON.parse(attemptData) : attemptData;\n        } catch (error) {\n          console.error('Error reading or parsing attempt data file', error);\n        }\n        this.recordData = {\n          ...combinedData.data,\n          attempt: combinedData.attemptData?.attempt || 'N/A',\n          date: combinedData.attemptData?.date ? formatDate(combinedData.attemptData.date) : 'N/A'\n        };\n      }\n    },\n    current_theme() {\n      this.recordInfoBG = this.currentTheme === 'dark' ? 'rgb(100, 100, 100)' : 'rgb(220, 220, 220)';\n    }\n  },\n  mounted() {\n    this.current_theme();\n    if (this.getHVI.value1) {\n      this.fetchRecordData();\n    }\n  },\n  watch: {\n    'getHVI.value2': function (newVal) {\n      if (newVal) {\n        this.fetchRecordData();\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","FileSystemService","formatDate","data","recordInfoBG","recordData","computed","methods","fetchRecordData","fileName","getHVI","value2","fileNameAttempt","combinedData","readFile","JSON","parse","error","console","attemptData","attempt","date","current_theme","currentTheme","mounted","value1","watch","getHVI.value2","newVal"],"sources":["C:\\Users\\ruzhe\\CODEHUB-PH\\GAMES\\code-master\\src\\components\\Dashboard\\GameComponents\\GameRecordsInfo.vue"],"sourcesContent":["<template>\r\n    <div class=\"game-record-view\" v-if=\"getHVI.value1\">\r\n        <div class=\"record-info\" :style=\"{ backgroundColor: recordInfoBG }\">\r\n            <i class=\"bi bi-x\" @click=\"toggleHVI({ value1: false, value2: null })\"></i>\r\n            <h4><strong>Latest Record</strong></h4>\r\n            <h4><strong>Challenge:</strong> {{ recordData.challenge }}</h4>\r\n            <h4><strong>Time Finish:</strong> {{ recordData.timeFinish }} sec</h4>\r\n            <h4><strong>Score:</strong> {{ recordData.score }}</h4>\r\n            <h4><strong>Number of Attempts:</strong> {{ recordData.attempt }}</h4>\r\n            <h4><strong>Date of Latest Attempt:</strong> {{ recordData.date }}</h4>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport FileSystemService from '@/utils/FileSystemService';\r\nimport { formatDate } from '@/utils/GameUtils';\r\nexport default {\r\n    data() {\r\n        return {\r\n            recordInfoBG: '',\r\n            recordData: {},\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters(['getHVI', 'currentTheme']),\r\n    },\r\n    methods: {\r\n        ...mapActions(['toggleHVI']),\r\n        async fetchRecordData() {\r\n            const fileName = this.getHVI.value2;\r\n            const fileNameAttempt = fileName + '-ATTEMPT';\r\n\r\n            if (fileName) {\r\n                let combinedData = {};\r\n\r\n                try {\r\n                    const data = await FileSystemService.readFile(fileName);\r\n                    combinedData.data = typeof data === 'string' ? JSON.parse(data) : data;\r\n                } catch (error) {\r\n                    console.error('Error reading or parsing main data file', error);\r\n                }\r\n                try {\r\n                    const attemptData = await FileSystemService.readFile(fileNameAttempt);\r\n                    combinedData.attemptData = typeof attemptData === 'string' ? JSON.parse(attemptData) : attemptData;\r\n                } catch (error) {\r\n                    console.error('Error reading or parsing attempt data file', error);\r\n                }\r\n                this.recordData = {\r\n                    ...combinedData.data,\r\n                    attempt: combinedData.attemptData?.attempt || 'N/A',\r\n                    date: combinedData.attemptData?.date ? formatDate(combinedData.attemptData.date) : 'N/A'\r\n                };\r\n            }\r\n        },\r\n        current_theme() {\r\n            this.recordInfoBG = this.currentTheme === 'dark' ? 'rgb(100, 100, 100)' : 'rgb(220, 220, 220)';\r\n        }\r\n    },\r\n    mounted() {\r\n        this.current_theme();\r\n        if (this.getHVI.value1) {\r\n            this.fetchRecordData();\r\n        }\r\n    },\r\n    watch: {\r\n        'getHVI.value2': function (newVal) {\r\n            if (newVal) {\r\n                this.fetchRecordData();\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.game-record-view {\r\n    position: absolute;\r\n    height: calc(100vh - 40px);\r\n    width: calc(100vw - 40px);\r\n    padding: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 10000;\r\n}\r\n\r\n.record-info {\r\n    position: relative;\r\n    padding: 20px;\r\n    height: 210px;\r\n    width: 260px;\r\n    box-shadow: 2px 2px 5px black;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    border-radius: 10px;\r\n    gap: 10px;\r\n}\r\n\r\n.record-info h4 {\r\n    margin: 0;\r\n    font-weight: normal\r\n}\r\n\r\n.bi-x {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    font-size: 1.8rem;\r\n    margin: 5px;\r\n}\r\n</style>"],"mappings":"AAcA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,OAAOC,iBAAgB,MAAO,2BAA2B;AACzD,SAASC,UAAS,QAAS,mBAAmB;AAC9C,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE,CAAC;IACjB,CAAC;EACL,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGP,UAAU,CAAC,CAAC,QAAQ,EAAE,cAAc,CAAC;EAC5C,CAAC;EACDQ,OAAO,EAAE;IACL,GAAGP,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC;IAC5B,MAAMQ,eAAeA,CAAA,EAAG;MACpB,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM;MACnC,MAAMC,eAAc,GAAIH,QAAO,GAAI,UAAU;MAE7C,IAAIA,QAAQ,EAAE;QACV,IAAII,YAAW,GAAI,CAAC,CAAC;QAErB,IAAI;UACA,MAAMV,IAAG,GAAI,MAAMF,iBAAiB,CAACa,QAAQ,CAACL,QAAQ,CAAC;UACvDI,YAAY,CAACV,IAAG,GAAI,OAAOA,IAAG,KAAM,QAAO,GAAIY,IAAI,CAACC,KAAK,CAACb,IAAI,IAAIA,IAAI;QAC1E,EAAE,OAAOc,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;QACnE;QACA,IAAI;UACA,MAAME,WAAU,GAAI,MAAMlB,iBAAiB,CAACa,QAAQ,CAACF,eAAe,CAAC;UACrEC,YAAY,CAACM,WAAU,GAAI,OAAOA,WAAU,KAAM,QAAO,GAAIJ,IAAI,CAACC,KAAK,CAACG,WAAW,IAAIA,WAAW;QACtG,EAAE,OAAOF,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;QACtE;QACA,IAAI,CAACZ,UAAS,GAAI;UACd,GAAGQ,YAAY,CAACV,IAAI;UACpBiB,OAAO,EAAEP,YAAY,CAACM,WAAW,EAAEC,OAAM,IAAK,KAAK;UACnDC,IAAI,EAAER,YAAY,CAACM,WAAW,EAAEE,IAAG,GAAInB,UAAU,CAACW,YAAY,CAACM,WAAW,CAACE,IAAI,IAAI;QACvF,CAAC;MACL;IACJ,CAAC;IACDC,aAAaA,CAAA,EAAG;MACZ,IAAI,CAAClB,YAAW,GAAI,IAAI,CAACmB,YAAW,KAAM,MAAK,GAAI,oBAAmB,GAAI,oBAAoB;IAClG;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACF,aAAa,CAAC,CAAC;IACpB,IAAI,IAAI,CAACZ,MAAM,CAACe,MAAM,EAAE;MACpB,IAAI,CAACjB,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACDkB,KAAK,EAAE;IACH,eAAe,EAAE,SAAAC,CAAUC,MAAM,EAAE;MAC/B,IAAIA,MAAM,EAAE;QACR,IAAI,CAACpB,eAAe,CAAC,CAAC;MAC1B;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}